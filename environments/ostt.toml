# ostt Configuration
#
# This file is automatically placed in ~/.config/ostt/ostt.toml on first setup.
# You can edit this file to customize ostt behavior.

[audio]
# Audio device to use.
# Options:
#   "default"          - Use system default device
#   "0", "1", "2", ... - Use device by index (see ostt list-devices)
#   "device name"      - Use device by name (see ostt list-devices)
#
# Examples:
#   device = "0"           # Use first device
#   device = "AMS-24"      # Use device named "AMS-24"
#   device = "pipewire"    # Use device named "pipewire"
#
# To see available devices, run: ostt list-devices
device = "default"

# Sample rate in Hz (16000 recommended for speech recognition)
sample_rate = 16000

# Peak volume threshold for red indicator (0-100, percentage of reference level)
# Default 90 means warn at 90% of reference_level_db (10% headroom before clipping)
peak_volume_threshold = 90

# Reference level in dBFS for 100% meter display
# Set this to your audio card's maximum input level for accurate metering
# Typical values:
#   -6 dBFS: Very hot recording (near clipping)
#  -12 dBFS: Hot recording (professional standard)
#  -18 dBFS: Moderate recording level
#  -20 dBFS: Conservative level (typical audio card max)
reference_level_db = -20

# Output audio format (uses ffmpeg for conversion)
# Format: "codec [ffmpeg_options]"
# All audio is saved mono with ffmpeg handling resampling/compression
#
# Recommended formats:
#   "mp3 -ab 16k -ar 12000" - MP3 16kbps 12kHz (Whisper API optimal, ~1.8 MB/hour)
#   "libopus -ab 32k -ar 16000" - OGG Opus 32kbps 16kHz (~3.6 MB/hour)
#   "aac -ab 32k -ar 16000" - AAC 32kbps 16kHz (~3.6 MB/hour)
#   "flac -ar 16000" - FLAC 16kHz lossless (~20 MB/hour)
#   "pcm_s16le" - WAV PCM original rate (largest, no compression)
#
# Add more formats as needed - ffmpeg handles the rest!
output_format = "mp3 -ab 16k -ar 12000"

# Visualization type for recording display
# Options:
#   "spectrum"  - Frequency spectrum showing energy across frequency bands (default)
#   "waveform"  - Time-domain waveform showing amplitude over time
visualization = "spectrum"

# Provider-specific settings
# Each provider can have its own configuration section


# =============================================================================
# Deepgram Configuration
# =============================================================================

[providers.deepgram]

# Include filler words (disfluencies) in the transcript
# When true, transcribes filler words like "uh", "um", "mhmm", "uh-huh", and
# "nuh-uh". These words are always transcribed with consistent spelling regardless
# of spoken duration. When false, filler words are stripped to improve readability.
# Only available for Nova, Nova-2, and Nova-3 models.
filler_words = false

# Convert spoken measurement units to their abbreviations
# When true, converts terms like "milligrams" to "mg", "kilometers" to "km",
# "liters" to "l", etc. Supported units include: mg, cg, g, kg, ml, cl, l, kl,
# mm, cm, m, km. Only available for English language models.
measurements = false

# Convert spoken numbers to numerical format
# When true, converts written numbers like "nine hundred" to "900". Supports
# Danish, Dutch, English, French, German, Italian, Norwegian, Polish, Portuguese,
# Spanish, and Swedish. Useful for phone numbers, addresses, and account IDs.
numerals = false

# Split transcript into paragraphs for improved readability
# When true, adds paragraph breaks based on punctuation and pauses. Paragraphs
# will also be influenced by speaker changes (if diarization is enabled) and
# channel changes (if multichannel is enabled). Note: Paragraphs requires
# Punctuation to be enabled (enabled automatically when this is true).
paragraphs = false

# Apply profanity filtering to the transcript
# When true, masks offensive language with asterisks (e.g., "****"). Available
# for English, German, Swiss German, Polish, Portuguese, Spanish, and Swedish.
# Words are replaced with a censored placeholder to maintain timing and structure.
profanity_filter = false

# Add punctuation and capitalization to the transcript
# When true, adds sentence boundaries (periods, commas, question marks) and
# capitalizes the first word of sentences and proper nouns. Available for
# all supported languages. If Smart Format is enabled, you don't need to
# also enable Punctuation.
punctuate = true

# Apply comprehensive smart formatting to the transcript
# When true, applies enhanced formatting including punctuation, paragraphs,
# and entity formatting (dates like "November 2, 2022", times like "8:37 PM",
# currency, phone numbers, emails, URLs). Available for all languages, with
# the most comprehensive support for English. Note: Smart Format enables
# Punctuation automatically.
smart_format = false

# Segment speech into meaningful semantic units (utterances)
# When true, divides speech into natural conversational segments based on pauses,
# sentence restarts, and reformulations. Each utterance includes start/end times,
# confidence scores, and word-level details. Useful for analyzing conversational
# speech patterns, turn-taking, and dialogue structure. Only available for
# pre-recorded audio with Nova models.
utterances = false

# Duration of silence (in seconds) to trigger a new utterance
# Sets the pause length between words after which Deepgram decides a new utterance
# should begin. Range: 0.5 to 3.0 seconds. Default is 0.8 seconds. Lower values
# create more utterance breaks (better for fast-paced dialogue), higher values
# create fewer breaks (better for speeches with deliberate pauses). Only takes
# effect when utterances is enabled.
utt_split = 0.8

# Opt out from Deepgram Model Improvement Program (MIP)
# When true, prevents Deepgram from using your audio data to improve their models.
# WARNING: This may impact pricing. See docs at https://dpgr.am/deepgram-mip
mip_opt_out = false


# =============================================================================
# AssemblyAI Configuration
# =============================================================================

[providers.assemblyai]

# Format text with punctuation, casing, and numeral conversion
# When true, the transcript will include proper punctuation (periods, commas,
# question marks), capitalization of sentences and proper nouns, and convert
# spoken numbers to their numeric form (e.g., "twenty-three" â†’ "23")
format_text = true

# Include disfluencies (filler words) in the transcript
# When true, filler words like "um", "uh", "ah", "er", and false starts
# are preserved in the output. When false, these are removed.
# Useful for verbatim transcription or speech analysis.
disfluencies = false

# Filter profanity from the transcript
# When true, profane words are replaced with asterisks (e.g., "***")
# to censor offensive language from the output.
filter_profanity = false

# Enable automatic language detection
# When true, AssemblyAI will automatically detect the spoken language
# and transcribe in that language. When false, assumes English (en).
# Supports 99+ languages. Detection may add slight latency.
language_detection = true
